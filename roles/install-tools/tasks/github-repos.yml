---
- name: "Downloading GitHub Repos into opt"
  git:
    repo: "{{ item.repo }}"
    dest: "{{ item.location }}"
    force: true
  loop:
    - { repo: "https://github.com/Flangvik/SharpCollection.git", location: "/opt/SharpCollection" }
    - { repo: "https://github.com/danielmiessler/SecLists", location: "/opt/SecLists" }
    - { repo: "https://github.com/l4rRyxz/scripts.git", location: "/opt/scripts" }
    - { repo: "https://github.com/S3cur3Th1sSh1t/PowerSharpPack.git", location: "/opt/PowerSharpPack" }
    - { repo: "https://github.com/tmux-plugins/tmux-logging.git", location: "/opt/tmux-logging" }
    - { repo: "https://github.com/t3l3machus/Villain", location: "/opt/Villain" }
    - { repo: "https://github.com/l4rRyxz/pre-compiles.git", location: "/opt/pre-compiles" }
  become: true
  become_method: sudo

- name: "Install Villain"
  shell: |
    cd /opt/Villain
    sudo pip3 install -r requirements.txt
    sudo chmod +x Villain.py
